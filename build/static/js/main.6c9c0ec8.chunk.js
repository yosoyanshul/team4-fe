(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{110:function(e,a,t){e.exports=t(513)},116:function(e,a,t){},119:function(e,a,t){},45:function(e){e.exports={cognito:{REGION:"us-east-1",USER_POOL_ID:"us-east-1_6uVKjw9Su",APP_CLIENT_ID:"33k46jmq75hrn0q1rbslc2fgh"}}},509:function(e,a,t){},51:function(e,a){},513:function(e,a,t){"use strict";t.r(a);var r=t(1),n=t.n(r),s=t(99),o=t.n(s),l=(t(115),t(116),t(16)),c=t.n(l),i=t(23),d=t(24),m=t(25),u=t(28),p=t(26),h=t(29),f=t(516),E=t(517),g=t(518);t(119);var v=t(32),w=t(33);var b=function(e){return e.formerrors&&(e.formerrors.blankfield||e.formerrors.passwordmatch)?n.a.createElement("div",{className:"error container help is-danger"},n.a.createElement("div",{className:"row justify-content-center"},e.formerrors.passwordmatch?"Password value does not match confirm password value":""),n.a.createElement("div",{className:"row justify-content-center help is-danger"},e.formerrors.blankfield?"All fields are required":"")):e.apierrors?n.a.createElement("div",{className:"error container help is-danger"},n.a.createElement("div",{className:"row justify-content-center"},e.apierrors)):e.formerrors&&e.formerrors.cognito?n.a.createElement("div",{className:"error container help is-danger"},n.a.createElement("div",{className:"row justify-content-center"},e.formerrors.cognito.message)):n.a.createElement("div",null)};var N=function(e,a){for(var t=document.getElementsByClassName("is-danger"),r=0;r<t.length;r++)t[r].classList.contains("error")||t[r].classList.remove("is-danger");return a.hasOwnProperty("username")&&""===a.username?(document.getElementById("username").classList.add("is-danger"),{blankfield:!0}):a.hasOwnProperty("firstname")&&""===a.firstname?(document.getElementById("firstname").classList.add("is-danger"),{blankfield:!0}):a.hasOwnProperty("lastname")&&""===a.lastname?(document.getElementById("lastname").classList.add("is-danger"),{blankfield:!0}):a.hasOwnProperty("email")&&""===a.email?(document.getElementById("email").classList.add("is-danger"),{blankfield:!0}):a.hasOwnProperty("verificationcode")&&""===a.verificationcode?(document.getElementById("verificationcode").classList.add("is-danger"),{blankfield:!0}):a.hasOwnProperty("password")&&""===a.password?(document.getElementById("password").classList.add("is-danger"),{blankfield:!0}):a.hasOwnProperty("oldpassword")&&""===a.oldpassword?(document.getElementById("oldpassword").classList.add("is-danger"),{blankfield:!0}):a.hasOwnProperty("newpassword")&&""===a.newpassword?(document.getElementById("newpassword").classList.add("is-danger"),{blankfield:!0}):a.hasOwnProperty("confirmpassword")&&""===a.confirmpassword?(document.getElementById("confirmpassword").classList.add("is-danger"),{blankfield:!0}):a.hasOwnProperty("password")&&a.hasOwnProperty("confirmpassword")&&a.password!==a.confirmpassword?(document.getElementById("password").classList.add("is-danger"),document.getElementById("confirmpassword").classList.add("is-danger"),{passwordmatch:!0}):a.hasOwnProperty("newpassword")&&a.hasOwnProperty("confirmpassword")&&a.newpassword!==a.confirmpassword?(document.getElementById("newpassword").classList.add("is-danger"),document.getElementById("confirmpassword").classList.add("is-danger"),{passwordmatch:!0}):void 0},y=t(18),O=function(e){function a(){var e,t;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(t=Object(u.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(n)))).state={username:"",password:"",errors:{cognito:null,blankfield:!1}},t.clearErrorState=function(){t.setState({errors:{cognito:null,blankfield:!1}})},t.handleSubmit=function(){var e=Object(i.a)(c.a.mark(function e(a){var r,n,s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),t.clearErrorState(),(r=N(a,t.state))&&t.setState({errors:Object(w.a)({},t.state.errors,r)}),e.prev=4,e.next=7,y.a.signIn(t.state.username,t.state.password);case 7:n=e.sent,console.log("User",n),console.log("result",n.signInUserSession.idToken.jwtToken),t.props.auth.setAuthStatus(!0),t.props.auth.setUser(n),t.props.history.push("/Search"),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(4),s=null,s=e.t0.message?e.t0:{message:e.t0},t.setState({errors:Object(w.a)({},t.state.errors,{cognito:s})});case 20:case"end":return e.stop()}},e,null,[[4,15]])}));return function(a){return e.apply(this,arguments)}}(),t.onInputChange=function(e){t.setState(Object(v.a)({},e.target.id,e.target.value)),document.getElementById(e.target.id).classList.remove("is-danger")},t}return Object(h.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return n.a.createElement("section",{className:"section auth"},n.a.createElement("div",{className:"container"},n.a.createElement("h1",null,n.a.createElement("bold",null,"Log In")),n.a.createElement(b,{formerrors:this.state.errors}),n.a.createElement("form",{onSubmit:this.handleSubmit,className:"Form"},n.a.createElement("div",{className:"field"},n.a.createElement("p",{className:"control"},n.a.createElement("input",{className:"input",type:"text",id:"username","aria-describedby":"usernameHelp",placeholder:"Enter username or email",value:this.state.username,onChange:this.onInputChange}))),n.a.createElement("div",{className:"field"},n.a.createElement("p",{className:"control has-icons-left"},n.a.createElement("input",{className:"input",type:"password",id:"password",placeholder:"Password",value:this.state.password,onChange:this.onInputChange}),n.a.createElement("span",{className:"icon is-small is-left"},n.a.createElement("i",{className:"fas fa-lock"})))),n.a.createElement("div",{className:"field"},n.a.createElement("p",{className:"control"},n.a.createElement("a",{href:"/forgotpassword"},"Forgot password?"))),n.a.createElement("div",{className:"field"},n.a.createElement("p",{className:"control"},n.a.createElement("button",{className:"buttonL"},"Login"))))))}}]),a}(r.Component),k=function(e){function a(){var e,t;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(t=Object(u.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(n)))).state={username:"",email:"",password:"",confirmpassword:"",errors:{cognito:null,blankfield:!1,passwordmatch:!1}},t.clearErrorState=function(){t.setState({errors:{cognito:null,blankfield:!1,passwordmatch:!1}})},t.handleSubmit=function(){var e=Object(i.a)(c.a.mark(function e(a){var r,n,s,o,l,i,d;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),t.clearErrorState(),(r=N(a,t.state))&&t.setState({errors:Object(w.a)({},t.state.errors,r)}),n=t.state,s=n.username,o=n.email,l=n.password,e.prev=5,e.next=8,y.a.signUp({username:s,password:l,attributes:{email:o}});case 8:i=e.sent,t.props.history.push("/Login"),console.log(i),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(5),d=null,d=e.t0.message?e.t0:{message:e.t0},t.setState({errors:Object(w.a)({},t.state.errors,{cognito:d})});case 18:case"end":return e.stop()}},e,null,[[5,13]])}));return function(a){return e.apply(this,arguments)}}(),t.onInputChange=function(e){t.setState(Object(v.a)({},e.target.id,e.target.value)),document.getElementById(e.target.id).classList.remove("is-danger")},t}return Object(h.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return n.a.createElement("section",{className:"section auth"},n.a.createElement("div",{className:"container"},n.a.createElement("h1",null,n.a.createElement("bold",null,"Register")),n.a.createElement(b,{formerrors:this.state.errors}),n.a.createElement("form",{onSubmit:this.handleSubmit,className:"Form"},n.a.createElement("div",{className:"field"},n.a.createElement("p",{className:"control"},n.a.createElement("input",{className:"input",type:"text",id:"username","aria-describedby":"userNameHelp",placeholder:"Enter username",value:this.state.username,onChange:this.onInputChange}))),n.a.createElement("div",{className:"field"},n.a.createElement("p",{className:"control has-icons-left has-icons-right"},n.a.createElement("input",{className:"input",type:"email",id:"email","aria-describedby":"emailHelp",placeholder:"Enter email",value:this.state.email,onChange:this.onInputChange}),n.a.createElement("span",{className:"icon is-small is-left"},n.a.createElement("i",{className:"fas fa-envelope"})))),n.a.createElement("div",{className:"field"},n.a.createElement("p",{className:"control has-icons-left"},n.a.createElement("input",{className:"input",type:"password",id:"password",placeholder:"Password",value:this.state.password,onChange:this.onInputChange}),n.a.createElement("span",{className:"icon is-small is-left"},n.a.createElement("i",{className:"fas fa-lock"})))),n.a.createElement("div",{className:"field"},n.a.createElement("p",{className:"control has-icons-left"},n.a.createElement("input",{className:"input",type:"password",id:"confirmpassword",placeholder:"Confirm password",value:this.state.confirmpassword,onChange:this.onInputChange}),n.a.createElement("span",{className:"icon is-small is-left"},n.a.createElement("i",{className:"fas fa-lock"})))),n.a.createElement("div",{className:"field"},n.a.createElement("p",{className:"control"},n.a.createElement("a",{href:"/forgotpassword"},"Forgot password?"))),n.a.createElement("div",{className:"field"},n.a.createElement("p",{className:"control"},n.a.createElement("button",{className:"buttonR"},"Register"))))))}}]),a}(r.Component);function j(){return n.a.createElement("footer",{className:"footer"},n.a.createElement("div",{className:"content has-text-centered"},n.a.createElement("p",{align:"center"},"Team Caption Marvel")))}var S=t(108),I=[{id:1,name:"Kim Parrish",address:"Garnerville, NY 10923",date:"07/11/2020",order:"87349585892118"},{id:2,name:"Michele Castillo",address:"Fullerton, NE 68638",date:"07/11/2020",order:"58418278790810"},{id:3,name:"Eric Ferris",address:"Toccoa, GA 30577",date:"07/10/2020",order:"81534454080477"},{id:4,name:"Gloria Noble",address:"Fresno, CA 93721",date:"07/09/2020",order:"20452221703743"},{id:5,name:"Darren Daniels",address:"Anaktuvuk Pass, AK 99721",date:"07/07/2020",order:"22906126785176"},{id:6,name:"Ted McDonald",address:"Minneapolis, MN 55406",date:"07/07/2020",order:"87574505851064"},{id:1,name:"Kim Parrish",address:"Garnerville, NY 10923",date:"07/11/2020",order:"87349585892118"},{id:2,name:"Michele Castillo",address:"Fullerton, NE 68638",date:"07/11/2020",order:"58418278790810"},{id:3,name:"Eric Ferris",address:"Toccoa, GA 30577",date:"07/10/2020",order:"81534454080477"},{id:2,name:"Michele Castillo",address:"Fullerton, NE 68638",date:"07/11/2020",order:"58418278790810"},{id:3,name:"Eric Ferris",address:"Toccoa, GA 30577",date:"07/10/2020",order:"81534454080477"},{id:4,name:"Gloria Noble",address:"Fresno, CA 93721",date:"07/09/2020",order:"20452221703743"},{id:5,name:"Darren Daniels",address:"Anaktuvuk Pass, AK 99721",date:"07/07/2020",order:"22906126785176"},{id:6,name:"Ted McDonald",address:"Minneapolis, MN 55406",date:"07/07/2020",order:"87574505851064"},{id:1,name:"Kim Parrish",address:"Garnerville, NY 10923",date:"07/11/2020",order:"87349585892118"},{id:2,name:"Michele Castillo",address:"Fullerton, NE 68638",date:"07/11/2020",order:"58418278790810"},{id:3,name:"Eric Ferris",address:"Toccoa, GA 30577",date:"07/10/2020",order:"81534454080477"}],A=function(e){var a=e.userInfo,t=a.name,r=a.order;return n.a.createElement("div",{style:{backgroundColor:"#99cfa4",paddingBottom:5}},n.a.createElement("p",null,t),"(",r,")")};t(509);var C=function(){var e=Object(r.useState)(I),a=Object(S.a)(e,2),t=a[0],s=a[1];return n.a.createElement("div",{className:"Search"},n.a.createElement("h2",null,"Search Your Uploaded Books Here"),n.a.createElement("input",{type:"search",placeholder:"Type something to search...",style:{padding:12,width:"100%",fontSize:"105%"},onChange:function(e){return function(e){var a=I.filter(function(a){return a.name.toLocaleLowerCase().includes(e.toLocaleLowerCase())||a.order.includes(e)});s(a)}(e.target.value)}}),t.map(function(e,a){return n.a.createElement(A,{userInfo:e,key:a})}))},L=t(105),P=t(106),B=function(e){function a(){var e,t;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(t=Object(u.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(n)))).handleLogOut=function(){var e=Object(i.a)(c.a.mark(function e(a){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{y.a.signOut(),t.props.auth.setAuthStatus(!1),t.props.auth.setUser(null),t.props.history.push("/")}catch(a){console.log(a.message)}case 1:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),t}return Object(h.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return n.a.createElement("nav",{className:"navbar",role:"navigation","aria-label":"main navigation"},n.a.createElement("div",{className:"navbar-brand"}),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",{id:"navbarBasicExample",className:"navbar-menu"},n.a.createElement("div",{className:"navbar-logo"},n.a.createElement("strong",null,"My Books")),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("div",{className:"navbar-start"},this.props.auth.isAuthenticated&&n.a.createElement("a",{href:"/Search",className:"navbar-item"},"Search"),this.props.auth.isAuthenticated&&n.a.createElement("a",{href:"#",className:"navbar-item"},"Profile")),n.a.createElement("div",{className:"navbar-end"},n.a.createElement("div",{className:"navbar-item"},this.props.auth.isAuthenticated&&this.props.auth.user&&n.a.createElement("p",null,"Hello ",this.props.auth.user.username),n.a.createElement("div",{className:"buttons"},!this.props.auth.isAuthenticated&&n.a.createElement("div",null,n.a.createElement("a",{href:"/register",className:"button is-primary"},n.a.createElement("strong",null,"Register")),n.a.createElement("a",{href:"/",className:"button is-primary"},"Log in")),this.props.auth.isAuthenticated&&n.a.createElement("a",{href:"/",onClick:this.handleLogOut,className:"button is-light"},"Log out"))))))}}]),a}(r.Component);L.a.add(P.a);var x=function(e){function a(){var e,t;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(t=Object(u.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(n)))).state={isAuthenticated:!1,isAuthenticating:!0,user:null},t.setAuthStatus=function(e){t.setState({isAuthenticated:e})},t.setUser=function(e){t.setState({user:e})},t}return Object(h.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(i.a)(c.a.mark(function e(){var a,t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.currentSession();case 3:return a=e.sent,this.setAuthStatus(!0),console.log(a),e.next=8,y.a.currentAuthenticatedUser();case 8:t=e.sent,this.setUser(t),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),"No current user"!==e.t0&&console.log(e.t0);case 15:this.setState({isAuthenticating:!1});case 16:case"end":return e.stop()}},e,this,[[0,12]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e={isAuthenticated:this.state.isAuthenticated,user:this.state.user,setAuthStatus:this.setAuthStatus,setUser:this.setUser};return!this.state.isAuthenticating&&n.a.createElement("div",{className:"App"},n.a.createElement(f.a,null,n.a.createElement("div",null,n.a.createElement(B,{auth:e}),n.a.createElement(E.a,null,n.a.createElement(g.a,{exact:!0,path:"/",render:function(a){return n.a.createElement(O,Object.assign({},a,{auth:e}))}}),n.a.createElement(g.a,{exact:!0,path:"/register",render:function(a){return n.a.createElement(k,Object.assign({},a,{auth:e}))}}),n.a.createElement(g.a,{exact:!0,path:"/Search",render:function(a){return n.a.createElement(C,Object.assign({},a,{auth:e}))}}),n.a.createElement(g.a,{exact:!0,path:"/userHome",render:function(a){return n.a.createElement("userHome",Object.assign({},a,{auth:e}))}})),n.a.createElement(j,null))))}}]),a}(r.Component),F=t(45);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));y.b.configure({Auth:{mandatorySignIn:!0,region:F.cognito.REGION,userPoolId:F.cognito.USER_POOL_ID,userPoolWebClientId:F.cognito.APP_CLIENT_ID}}),o.a.render(n.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[110,1,2]]]);
//# sourceMappingURL=main.6c9c0ec8.chunk.js.map